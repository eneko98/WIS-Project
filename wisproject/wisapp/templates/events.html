{% extends 'base.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/events.css' %}">

<html>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Events</title>
</head>
<body>
<!-- Header Section -->
<div class="header">
<h1>Events</h1>
</div>

<!-- Filter Section -->
<div class="container mt-4">
<form method="GET" action="{% url 'events' %}">
<div class="form-row">
<div class="form-group col-md-4">
<label for="artist">Artist</label>
<select id="artist" name="artist" class="form-control">
<option value="">All Artists</option>
{% for artist in artists %}
<option value="{{ artist }}">{{ artist }}</option>
{% endfor %}
</select>
</div>
<div class="form-group col-md-4">
<label for="location">Location</label>
<select id="location" name="location" class="form-control">
<option value="">All Locations</option>
{% for loc in locations %}
<option value="{{ loc }}">{{ loc }}</option>
{% endfor %}
</select>
</div>
<div class="form-group col-md-4">
<label for="time">Month</label>
<select id="time" name="time" class="form-control">
<option value="">All Months</option>
{% for month in times %}
<option value="{{ forloop.counter }}">{{ month }}</option>
{% endfor %}
</select>
</div>
</div>
<button type="submit" class="btn btn-primary">Filter</button>
</form>
</div>

<!-- Event Section -->
<div id="filteredEventsSection" class="container mt-4">
<!-- Filtered events will be displayed here -->

<!-- Event Section -->
<div class="container container-border">
{% for event in events %}
<div class="row">
<div class="col-sm-2 align-self-center">
<!-- <img src="{{ event.artist_photo.url }}" class="event-image"> -->
<img src="{{ event.artist_photo }}" class="event-image">
</div>
<div class="col-sm-2 align-self-center">
<div class="date-container">
<span class="day">{{ event.date.day }}</span>
<span class="month">{{ event.date|date:"F" }}</span>
</div>
</div>
<!-- Event content -->
<div class="col-sm-4 align-self-center">
<div class="event-info">
<div class="event-content">
<p><a href="#" class="artist-link">{{ event.artist_name }}</a></p>
<p class="location">{{ event.location }}</p>
</div>
</div>
</div>
<!-- Favourite & View Show buttons -->
<div class="col-sm-3 align-self-center">
<button class="btn btn-secondary"><img src="{% static 'images/favourite.svg' %}"></button>
<button class="btn btn-primary view-details" data-event-id="{{ event.id }}">View Show</button>
</div>
</div>
{% endfor %}
</div>
</div>

<!-- Bootstrap JS and jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
{% endblock %}